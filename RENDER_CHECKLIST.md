# RepoScope Render Deployment Checklist

## ‚úÖ Pre-Deployment Checklist

### 1. GitHub Repository Setup
- [ ] Code is pushed to GitHub repository
- [ ] Repository is public or accessible to Render
- [ ] All necessary files are committed

### 2. GitHub OAuth App Setup
- [ ] Created GitHub OAuth App at https://github.com/settings/developers
- [ ] Set Homepage URL: `https://your-frontend-name.onrender.com`
- [ ] Set Authorization callback URL: `https://your-backend-name.onrender.com/api/auth/github/callback`
- [ ] Copy Client ID and Client Secret

### 3. Environment Variables (Set in Render Dashboard)
**Required for Backend:**
- [ ] `GITHUB_CLIENT_ID` - From GitHub OAuth App
- [ ] `GITHUB_CLIENT_SECRET` - From GitHub OAuth App  
- [ ] `GITHUB_TOKEN` - Personal Access Token from GitHub

**Auto-configured:**
- [ ] `SESSION_SECRET` - Auto-generated by Render
- [ ] `OLLAMA_URL` - Auto-configured to private service
- [ ] `FRONTEND_URL` - Auto-configured from frontend service
- [ ] `VITE_API_URL` - Auto-configured from backend service

## üöÄ Deployment Steps

### 1. Connect to Render
1. Go to [Render Dashboard](https://dashboard.render.com)
2. Click "New" ‚Üí "Blueprint"
3. Connect your GitHub repository
4. Render will detect `render.yaml`

### 2. Configure Services
Render will create these services:
- **reposcope-ollama** (Private Service - Pro plan)
- **backend** (Web Service - Standard plan)  
- **frontend** (Web Service - Starter plan)

### 3. Set Environment Variables
1. Go to each service in Render dashboard
2. Add the required environment variables listed above
3. **Important**: Never commit secrets to your repository

### 4. Deploy
1. Click "Apply" to start deployment
2. Monitor build logs for each service
3. Wait for all services to be "Live"

## üîç Verification Steps

### 1. Check Service Status
- [ ] All three services show "Live" status
- [ ] No build errors in logs

### 2. Test Endpoints
- [ ] Frontend accessible at `https://your-frontend.onrender.com`
- [ ] Backend health check: `https://your-backend.onrender.com/health`
- [ ] API responds: `https://your-backend.onrender.com/api/health`

### 3. Test Features
- [ ] GitHub OAuth login works
- [ ] Repository analysis functions
- [ ] AI features respond (may be slow on first request)

## ‚ö†Ô∏è Common Issues & Solutions

### Build Failures
**Issue**: Client build fails
**Solution**: Check if all dependencies are in `package.json`

**Issue**: Server build fails  
**Solution**: Verify Dockerfile paths and Node.js version

### Runtime Issues
**Issue**: Ollama service fails to start
**Solution**: Upgrade to Pro plan for sufficient resources

**Issue**: CORS errors
**Solution**: Verify `FRONTEND_URL` environment variable is set correctly

**Issue**: GitHub OAuth fails
**Solution**: Check callback URLs match your deployed services

### Performance Issues
**Issue**: Slow AI responses
**Solution**: First request after sleep takes longer; subsequent requests are faster

**Issue**: Out of memory errors
**Solution**: Consider upgrading service plans or optimizing model usage

## üí∞ Cost Estimate

- **Frontend**: Starter plan - $7/month
- **Backend**: Standard plan - $25/month  
- **Ollama**: Pro plan - $85/month
- **Total**: ~$117/month

### Cost Optimization Tips
1. Use Starter plan for backend if low traffic
2. Consider external AI services instead of self-hosted Ollama
3. Monitor usage and downgrade plans if possible

## üìä Monitoring

### Health Checks
- Backend: `/health` endpoint
- Monitor service logs in Render dashboard
- Set up alerts for service failures

### Performance
- Monitor response times
- Check resource usage
- Scale plans as needed

## üîß Maintenance

### Updates
1. Push code changes to GitHub
2. Render auto-deploys from main branch
3. Monitor deployment logs

### Model Updates
1. Update Ollama models via service console
2. Restart Ollama service if needed
3. Monitor memory usage

## üìû Support Resources

- [Render Documentation](https://render.com/docs)
- [Render Community](https://community.render.com)
- Check service logs for detailed error messages
- GitHub repository issues for application-specific problems
